{"version":3,"sources":["components/filter.js","components/inputform.js","components/persons.js","components/personservice.js","components/message.js","App.js","index.js"],"names":["Filter","search","changeHandler","className","value","onChange","NewInput","text","newValue","InputForm","submitHandler","nameValue","nameHandler","numberValue","numberHandler","onSubmit","type","Person","name","number","delHandler","onClick","Persons","persons","map","each","key","id","baseUrl","axios","get","then","response","data","person","post","changed","put","delete","Message","message","messageStyle","errorMsg","background","color","fontStyle","fontSize","style","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","searchStr","setSearchStr","setMessage","setErrorMsg","useEffect","personService","ppl","regEx","RegExp","personsToShow","filter","match","event","target","preventDefault","currentNames","currentNumbers","includes","find","window","confirm","updatePerson","returnedPersons","setTimeout","catch","error","newPeep","concat","p","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.323c5234.chunk.js","sourcesContent":["import React from \"react\"\n\nconst Filter = ( { search, changeHandler }) => {\n  return (\n    <form className=\"filterForm\">\n      <div>\n        Search contacts:\n          <input value={search} onChange={changeHandler} />\n      </div>\n    </form>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst NewInput = ({ text, newValue, changeHandler}) => {\n    return (\n        <div>\n            {text}:\n            <input \n                value = {newValue}\n                onChange = {changeHandler}\n            />\n        </div>\n    )\n}\n\nconst InputForm = ({ submitHandler, nameValue, nameHandler, numberValue, numberHandler }) => {\n    return (\n        <form className=\"InputFrom\" onSubmit={submitHandler}>\n            <NewInput text=\"Name\" newValue={nameValue} changeHandler={nameHandler}/>\n            <NewInput text=\"Number\" newValue={numberValue} changeHandler={numberHandler}/>\n            <div>\n                <button type=\"submit\">Add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default InputForm","import React from \"react\"\n\nconst Person = ({ name, number, delHandler}) => {\n\n    return (\n        <div>\n            <p>{name}, {number}</p>\n            <button value = {name} onClick={delHandler}>Delete contact</button>\n        </div>\n)}\nconst Persons = ({ persons, delHandler }) => persons.map(each => <Person key={each.id} name={each.name} number={each.number} delHandler={delHandler}/>)\n\nexport default Persons","import axios from 'axios';\n\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n  \nconst create = (person) => {\n    const request = axios.post(baseUrl, person)\n    return request.then(response => response.data)\n}\n  \nconst update = (id, changed) => {\n    const request = axios.put(`${baseUrl}/${id}`, changed)\n    return request.then(response => response.data)\n}\n\nconst erase = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, create, update, erase }","import React from 'react' \n\nconst Message = ({message, errorMsg}) => {\n\n    const messageStyle = {\n        background: 'lightgrey',\n        color: 'blue',\n        fontStyle: 'bold',\n        fontSize: 16,\n    }\n\n    if (errorMsg) {\n        return <div style={messageStyle}>{message}</div>\n    } else {\n        return <div style={messageStyle}>{message}</div>\n    }\n}\n\nexport default Message","import React, { useState, useEffect } from \"react\"\nimport './index.css'\nimport Filter from \"./components/filter.js\"\nimport InputForm from \"./components/inputform.js\"\nimport Persons from \"./components/persons.js\"\nimport personService from \"./components/personservice.js\"\nimport Message from \"./components/message.js\"\n\nconst App = () => {\n\n    const [ persons, setPersons ] = useState([])\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber] = useState('')\n    const [ searchStr, setSearchStr] = useState('')\n    const [ message, setMessage ] = useState('')\n    const [ errorMsg, setErrorMsg ] = useState(false)\n\n    useEffect( () => {\n        personService\n            .getAll()\n            .then((ppl) => {\n                setPersons(ppl)\n            })\n    }, [])\n\n    const handleNewName = (event) => setNewName(event.target.value)\n    const handleNewNumber = (event) => setNewNumber(event.target.value)\n    const handleSearchStr = (event) => setSearchStr(event.target.value)\n    const handleDel = (event) => {\n        let name = event.target.value\n        let id = persons.find(p => p.name === name).id\n        let delPerson = window.confirm(`Confirm deletion of ${name}?`)\n        if (delPerson) { \n            personService\n                .erase(id)\n                .then(setPersons(persons.filter(each => each.id !== id)))\n                .then( () =>\n                    {setErrorMsg(false)\n                    setMessage(`${name} was deleted from the phonebook.`)\n                    setTimeout( () => {setMessage('')}, 1000)}\n                )\n        }\n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        const currentNames = persons.map(each => each.name)\n        const currentNumbers = persons.map(each => each.number)\n        if (!currentNames.includes(newName)) {\n            const newPerson = {\n                name: newName,\n                number: newNumber,\n            }\n            personService\n                .create(newPerson)\n                .then(newPeep => {\n                    setPersons(persons.concat(newPeep))\n                    setNewName('')\n                    setNewNumber('')\n                })\n                .then( () => {\n                    setErrorMsg(false)\n                    setMessage(`${newName} was added to the phonebook.`)\n                    setTimeout( () => {setMessage('')}, 1000)\n                })\n                .catch(error => {\n                    setMessage(error.response.data.error)\n                    setErrorMsg(true)\n                    setTimeout( () => {setMessage('')}, 1000)\n                })\n\n        } else if (currentNames.includes(newName) && !currentNumbers.includes(newNumber)) {\n            let id = persons.find(each => (each.name === newName)).id\n            let updateNum = window.confirm(`Update number for ${newName}?`)\n            if (updateNum) {\n                let person = persons.find(each => each.id === id)\n                let updatePerson = {...person, number : newNumber }\n                personService   \n                    .update(id, updatePerson)\n                    .then(returnedPersons => {\n                        setPersons(persons.map(each => (each.id !== id) ? each : returnedPersons))\n                        setMessage(`${newName}'s number has been updated.`)\n                        setTimeout( () => {setMessage('')}, 1000)\n                        setErrorMsg(false)\n                    })\n                    .catch(error => {\n                        setMessage(`${newName} was already removed from the server`)\n                        setTimeout( () => {setMessage('')}, 1000)\n                        setPersons(persons.filter(each => each.id !== id))\n                        setErrorMsg(true)\n                    }\n                )    \n            }\n\n        } else {\n            setMessage(`${newName} is already added to the phonebook`)\n            setErrorMsg(true)\n            setTimeout( () => {setMessage('')}, 1000)\n        }\n    }\n\n    var regEx = new RegExp(\"^\"+searchStr)\n    const personsToShow = (searchStr !== \"\") ? persons.filter(each => each.name.match(regEx)) : persons\n\n    return (\n        <div>\n            <div>\n            <h2>Phonebook</h2>\n            <div>\n                <Filter search = {searchStr} changeHandler = {handleSearchStr}/>\n                <Message message={message} errorMsg={errorMsg} />\n            </div>\n            <div>    \n                <h2>Add a New Person</h2>\n                <InputForm submitHandler={addPerson} nameValue={newName} nameHandler={handleNewName} numberValue={newNumber} numberHandler={handleNewNumber} />\n            </div>    \n            <div>  \n                <h2>Numbers</h2>\n                <Persons persons = {personsToShow} delHandler={handleDel}/>\n            </div>\n            </div>\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport axios from 'axios';\n\naxios\n  .get('http://localhost:3001/api/persons')\n  .then(response => {\n    const persons = response.data\n    console.log(persons)\n  })\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}